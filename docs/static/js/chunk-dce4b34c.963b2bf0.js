(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-dce4b34c"],{"7f6c":function(e,t,a){},b6a5:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"module"},[a("div",{staticClass:"tittle"},[e._v("新建管理人员")]),a("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.addloading,expression:"addloading"}],ref:"ruleForm",attrs:{model:e.ruleForm,rules:e.rules}},[a("div",{staticClass:"form"},[a("el-form-item",{attrs:{label:"",prop:"name"}},[a("el-input",{attrs:{placeholder:"请输入姓名",size:"small"},model:{value:e.ruleForm.name,callback:function(t){e.$set(e.ruleForm,"name",t)},expression:"ruleForm.name"}})],1),a("el-form-item",{attrs:{label:"",prop:"identity_card"}},[a("el-input",{attrs:{size:"small",oninput:"value=value.replace(/[^0-9.]/g,'')",placeholder:"请输入负责人身份证号"},model:{value:e.ruleForm.identity_card,callback:function(t){e.$set(e.ruleForm,"identity_card",t)},expression:"ruleForm.identity_card"}})],1),a("el-form-item",{attrs:{label:"",prop:"password"}},[a("el-input",{attrs:{placeholder:"请输入密码",size:"small"},model:{value:e.ruleForm.password,callback:function(t){e.$set(e.ruleForm,"password",t)},expression:"ruleForm.password"}})],1)],1)]),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){return e.submit("ruleForm")}}},[e._v("添加")])],1),a("div",{staticClass:"module"},[a("div",{staticClass:"tittle"},[e._v("管理人员列表")]),a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.reverseloading,expression:"reverseloading"}],staticClass:"table"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData}},[a("el-table-column",{attrs:{prop:"mid",label:"人员ID"}}),a("el-table-column",{attrs:{prop:"name",label:"姓名"}}),a("el-table-column",{attrs:{prop:"identity_card",label:"身份证号"}}),a("el-table-column",{attrs:{prop:"name",label:"密码"}},[e._v(" XXXXXXXXXXXXXXXXXXX ")]),a("el-table-column",{attrs:{prop:"address",label:"关停/开启"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-switch",{attrs:{"active-color":"#47C93A","inactive-color":"#FF4957"},nativeOn:{click:function(a){return a.preventDefault(),e.changeData(t.row)}},model:{value:t.row.status,callback:function(a){e.$set(t.row,"status",a)},expression:"scope.row.status"}})]}}])})],1)],1)])])},l=[],s=a("b4da"),o=a("b775"),i={data:function(){return{addloading:!1,reverseloading:!1,ruleForm:{password:"",identity_card:"",name:""},rules:{identity_card:[{required:!0,message:"请输入身份证号",trigger:"blur"},{min:18,max:18,message:"请输入正确身份证号",trigger:"blur"}],name:[{required:!0,message:"请输姓名",trigger:"blur"}],password:[{required:!0,message:"密码",trigger:"blur"}]},tableData:[]}},methods:{submit:function(e){var t=this;console.log(this.ruleForm),this.$refs[e].validate((function(e){if(!e)return console.log("error submit!!"),!1;t.addloading=!0,Object(o["a"])({url:"/user/manage",method:"post",data:Object(s["a"])({},t.ruleForm)}).then((function(e){t.addloading=!1,200==e.code&&(t.$message({message:"添加成功",type:"success"}),t.getData())})).catch((function(e){t.addloading=!1,console.log(e)}))}))},getData:function(){var e=this;this.reverseloading=!0,Object(o["a"])({url:"/user/manager",method:"get"}).then((function(t){e.reverseloading=!1,e.tableData=t.data})).catch((function(t){console.log(t),e.reverseloading=!1}))},changeData:function(e){var t=this;this.reverseloading=!0,Object(o["a"])({url:"/user/manage_opposite",method:"patch",data:{mid:e.mid}}).then((function(e){t.reverseloading=!1,t.getData()})).catch((function(e){t.reverseloading=!1,t.getData()}))}},created:function(){this.getData()}},n=i,c=(a("c95b"),a("829d")),d=Object(c["a"])(n,r,l,!1,null,"608f211e",null);t["default"]=d.exports},c95b:function(e,t,a){"use strict";a("7f6c")}}]);